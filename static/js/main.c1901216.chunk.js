(this.webpackJsonpapp_user=this.webpackJsonpapp_user||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={card:"PostItem_card__1ytqO",flex_container:"PostItem_flex_container__2u0w_",downbar:"PostItem_downbar__1vcJM",downbar_button:"PostItem_downbar_button__1oZbN"}},function(e,t,n){e.exports={navbar:"Header_navbar__PIi9L",buttons:"Header_buttons__N2BKK",navbar_button:"Header_navbar_button__1VHSP",favbar:"Header_favbar__2ZAZm",Appname:"Header_Appname__EsSFr"}},function(e,t,n){e.exports={backdrop:"modal_backdrop__2GYJw",card:"modal_card__2pdRx",item:"modal_item__1-osQ",buttonItem:"modal_buttonItem__3R48l",Create_button:"modal_Create_button__2GGro"}},,function(e,t,n){e.exports={card:"Home_card__222yl",item:"Home_item__2frsi",buttonItem:"Home_buttonItem__VEaJH",Create_button:"Home_Create_button__2sC_M"}},,function(e,t,n){e.exports={card:"Login_card__8QBb-",item:"Login_item__2mxWl",buttonItem:"Login_buttonItem__3LDhG",Login_button:"Login_Login_button__34Mns"}},function(e,t,n){e.exports={card:"SignUp_card__3bMf2",item:"SignUp_item__mVLLS",buttonItem:"SignUp_buttonItem__1sdP3",Login_button:"SignUp_Login_button__2mVrp"}},,,,,,,,,,function(e,t,n){e.exports={flex_container:"MainPage_flex_container__1gM05",ActionButton:"MainPage_ActionButton__2Wim7",SignIn:"MainPage_SignIn__1Vhu0",SignUp:"MainPage_SignUp__1vHrc"}},,,,function(e,t,n){},,function(e,t,n){e.exports={card:"Card_card__1K5uX"}},function(e,t,n){e.exports={nopost:"Post_nopost__2m5Va"}},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(29),s=n.n(r),i=n(17),o=(n(38),n(3)),u=n(2),d=(n(39),Object(c.createContext)({userId:"",items:[],changed:!1,add:function(e){},delete:function(e){},addUser:function(e){},update:function(e){}})),j=n(10),l=n.n(j),b=n(30),m=n.n(b),O=n(0),h=function(e){return Object(O.jsx)("button",{onClick:e.onClick,className:"".concat(e.className," ").concat(m.a.Button),children:e.children})},x=function(e){var t=Object(u.i)(),n=Object(u.h)(),a=Object(c.useState)(!1),r=Object(o.a)(a,2),s=r[0],i=r[1];return Object(O.jsxs)("div",{className:l.a.navbar,children:[Object(O.jsx)("div",{className:l.a.favbar,children:Object(O.jsx)("h1",{className:l.a.Appname,children:"FaceBar"})}),Object(O.jsxs)("div",{className:l.a.buttons,children:[e.ShowSignUp&&Object(O.jsx)(h,{onClick:e.onClick,className:l.a.navbar_button,children:"SignUp"}),e.ShowSignIn&&Object(O.jsx)(h,{onClick:e.onClick,className:l.a.navbar_button,children:"SignIn"}),e.isLoggedIn&&Object(O.jsx)(h,{onClick:function(){s?(n.push("/home"),i(!1)):(n.push("".concat(t.pathname,"/post")),i(!0))},className:l.a.navbar_button,children:s?"Home":"Post"}),e.isLoggedIn&&Object(O.jsx)(h,{onClick:e.onLogout,className:l.a.navbar_button,children:"Logout"})]})]})},p=n(32),f=n.n(p),_=function(e){return Object(O.jsx)("div",{className:"".concat(f.a.card," ").concat(e.className),children:e.children})},g=n(13),v=n(21),S=n(8),I=n.n(S),N=n(14),y=function(e,t){return"sending"===t.type?{status:"pending",data:e.data,error:e.error}:"success"===t.type?{status:"completed",data:t.data,error:e.error}:"error"===t.type?{status:"completed",data:e.data,error:t.value}:void 0},C=function(e,t){var n=Object(c.useReducer)(y,{status:t?"pending":null,data:null,error:null}),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useCallback)(function(){var t=Object(N.a)(I.a.mark((function t(n){var c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"sending"}),t.prev=1,t.next=4,e(n);case 4:c=t.sent,s({type:"success",data:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s({type:"error",value:t.t0.message||"something went wrong"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(v.a)({sendRequest:i},r)},k="https://react-9e703-default-rtdb.firebaseio.com/",w=function(){var e=Object(N.a)(I.a.mark((function e(t){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAZjoy8dPiBktGsrJ_4z45RCFrc-TxGnko"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Login Failed");case 5:return e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",{success:c.registered||!1,userId:c.localId});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(N.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(k,"/items/").concat(t.userId,".json"),{method:"PUT",body:JSON.stringify(t.items),headers:{"Content-Type":"application/json"}});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Send data Failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(N.a)(I.a.mark((function e(t){var n,c,a,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(k,"/items/").concat(t.userId,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not get items.");case 8:for(r in a=[],c)s=Object(v.a)({id:r},c[r]),a.push(s);return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=!0,U=function(e){var t=Object(c.useContext)(d),n=C(L),a=n.sendRequest,r=n.status,s=n.data,i=Object(c.useRef)(),o=Object(c.useRef)(),u=Object(c.useRef)(),j=t.userId;Object(c.useEffect)((function(){return R&&(a({userId:j}),R=!1),function(){"completed"===r&&t.update(s)}}),[r,a,j]);return Object(O.jsx)("div",{className:g.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={id:Math.random(),name:i.current.value,age:o.current.value,relation:u.current.value};t.add(n),i.current.value="",o.current.value="",u.current.value=""},children:[Object(O.jsxs)("div",{className:g.item,children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{ref:i,required:!0,type:"text"})]}),Object(O.jsxs)("div",{className:g.item,children:[Object(O.jsx)("label",{children:"Age"}),Object(O.jsx)("input",{ref:o,required:!0,type:"number"})]}),Object(O.jsxs)("div",{className:g.item,children:[Object(O.jsx)("label",{children:"Relation"}),Object(O.jsx)("input",{ref:u,required:!0,type:"text"})]}),Object(O.jsx)("div",{className:g.buttonItem,children:Object(O.jsx)(h,{className:g.Create_button,children:"Create Post"})})]})})})},A=n(11),E=n.n(A),D=function(e){return Object(O.jsx)("div",{onClick:e.onClick,className:E.a.backdrop})},T=function(e){var t=Object(c.useContext)(d),n=Object(c.useState)(""),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),u=Object(o.a)(i,2),j=u[0],l=u[1],b=Object(c.useState)(""),m=Object(o.a)(b,2),x=m[0],p=m[1];return Object(O.jsx)("div",{className:E.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c={id:e.id,name:r,age:j,relation:x};t.add(c),s(""),p(""),l(""),e.onClick()},children:[Object(O.jsxs)("div",{className:E.a.item,children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{value:r,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&s(t)}})]}),Object(O.jsxs)("div",{className:E.a.item,children:[Object(O.jsx)("label",{children:"Age"}),Object(O.jsx)("input",{value:j,type:"number",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&l(+t)}})]}),Object(O.jsxs)("div",{className:E.a.item,children:[Object(O.jsx)("label",{children:"Relation"}),Object(O.jsx)("input",{value:x,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&p(t)}})]}),Object(O.jsx)("div",{className:E.a.buttonItem,children:Object(O.jsx)(h,{className:E.a.Create_button,children:"Submit"})})]})})})},H=function(e){return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(D,{onClick:e.onClose}),Object(O.jsx)(T,{id:e.id,onClick:e.onClose})]})},q=n(9),F=n.n(q),G=function(e){var t=Object(c.useContext)(d),n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],u=Object(c.useState)(!1),j=Object(o.a)(u,2),l=j[0],b=j[1];return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)("div",{onClick:function(){i(!s)},className:F.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("div",{className:F.a.flex_container,children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.name})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.age})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.relation})})]})})}),s&&Object(O.jsx)("div",{className:F.a.card,children:Object(O.jsxs)(_,{className:F.a.downbar,children:[Object(O.jsx)(h,{onClick:function(){b(!0)},className:F.a.downbar_button,children:"Edit"}),l&&Object(O.jsx)(H,{onClose:function(){b(!1)},id:e.id}),Object(O.jsx)(h,{onClick:function(){t.delete(e.id)},className:F.a.downbar_button,children:"Delete"})]})})]})},B=function(){return Object(O.jsx)("div",{className:F.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("div",{className:F.a.flex_container,children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Name"})})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Age"})})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Relation"})})})]})})})},J=n(33),M=n.n(J),V=function(e){var t=Object(c.useContext)(d);return document.body.style.marginTop="6rem",Object(O.jsxs)("div",{children:[Object(O.jsx)(B,{}),0===t.items.length&&Object(O.jsx)("h1",{className:M.a.nopost,children:"No Posts Yet"}),t.items.map((function(e){return Object(O.jsx)(G,{id:e.id,name:e.name,age:e.age,relation:e.relation},e.id)}))]})},W=n(15),Z=n.n(W),z=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(u.h)(),s=Object(c.useContext)(d),i=C(w),o=i.sendRequest,j=i.status,l=i.data,b=i.error,m=Object(O.jsx)(h,{className:Z.a.Login_button,children:"Login"});"pending"===j&&(m=Object(O.jsx)("p",{children:"Loading.."}));var p=e.onLoggin;Object(c.useEffect)((function(){"completed"!==j||b||(p(),s.addUser(l.userId.toString()),r.replace("/home"))}),[j,r,l,b,s,p]),b&&window.alert(b);return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(x,{onClick:e.onSignUp,ShowSignIn:!1,ShowSignUp:!0}),Object(O.jsx)("div",{className:Z.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=t.current.value,a=n.current.value;o({email:c,password:a,returnSecureToken:!0})},children:[Object(O.jsxs)("div",{className:Z.a.item,children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{ref:t,type:"email",required:"@"})]}),Object(O.jsxs)("div",{className:Z.a.item,children:[Object(O.jsx)("label",{children:"PassWord"}),Object(O.jsx)("input",{ref:n,type:"password",required:!0})]}),Object(O.jsx)("div",{className:Z.a.buttonItem,children:m})]})})})]})},K=n(26),Q=n.n(K),Y=n(16),X=n.n(Y),$=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1];return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(x,{onClick:e.onSignIn,ShowSignIn:!0,ShowSignUp:!1}),Object(O.jsx)("div",{className:X.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(c){var a=t.current.value,r=n.current.value;c.preventDefault(),u(!0);fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAZjoy8dPiBktGsrJ_4z45RCFrc-TxGnko",{method:"POST",body:JSON.stringify({email:a,password:r,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){if(u(!1),!t.ok)return t.json().then((function(e){var t="Authentication Error";e&&e.error&&e.error.message&&(t=e.error.message),alert(t)}));e.onSubmit()}))},children:[Object(O.jsxs)("div",{className:X.a.item,children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",ref:t,required:!0})]}),Object(O.jsxs)("div",{className:X.a.item,children:[Object(O.jsx)("label",{children:"PassWord"}),Object(O.jsx)("input",{type:"password",ref:n,required:!0})]}),Object(O.jsxs)("div",{className:X.a.buttonItem,children:[i&&Object(O.jsx)("p",{children:"Please Wait ..."}),!i&&Object(O.jsx)(h,{className:X.a.Login_button,children:"Register"})]})]})})})]})},ee=function(e){var t=Object(u.h)(),n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],d=Object(c.useState)(!0),j=Object(o.a)(d,2),l=j[0],b=j[1],m=function(){i(!s),b(!1)};return document.body.style.marginTop="6rem",Object(O.jsx)(a.a.Fragment,{children:Object(O.jsx)("div",{className:Q.a.flex_container,children:Object(O.jsxs)("div",{className:Q.a.ActionButton,children:[s&&Object(O.jsx)($,{onSignIn:function(){b(!0),i(!1),t.replace("/")},onSubmit:function(){b(!0),i(!1)},onSignUp:m}),l&&Object(O.jsx)(z,{onSignUp:m,onLoggin:e.onSignIn})]})})})},te=!0;var ne=function(){var e=Object(c.useContext)(d),t=Object(u.h)(),n=C(P).sendRequest,a="1"===localStorage.getItem("isLoggedIn"),r=Object(c.useState)(a),s=Object(o.a)(r,2),i=s[0],j=s[1],l=Object(c.useState)(!1),b=Object(o.a)(l,2),m=b[0],h=b[1],p=Object(c.useState)(!1),f=Object(o.a)(p,2),_=f[0],g=f[1];return Object(c.useEffect)((function(){te?te=!1:i&&e.changed&&n({items:e.items,userId:e.userId})}),[i,e.items,n,e.changed,e.userId]),Object(c.useEffect)((function(){console.log("hello"),t.replace("/main")}),[m,t]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{when:m,message:"Are you sure you want to leave?"}),Object(O.jsx)(x,{ShowSignIn:!1,ShowSignUp:!1,onShowPost:_,onLogout:function(){localStorage.setItem("isLoggedIn","0"),h(!0),j(!1),g(!1)},isLoggedIn:i}),Object(O.jsxs)(u.e,{children:[Object(O.jsxs)(u.c,{path:"/",exact:!0,children:[i&&Object(O.jsx)(u.b,{to:"/home"}),!i&&Object(O.jsx)(u.b,{to:"/main"})]}),Object(O.jsxs)(u.c,{path:"/home/post",exact:!0,children:[i&&Object(O.jsx)(V,{list:e.items}),!i&&Object(O.jsx)(u.b,{to:"/main"})]}),Object(O.jsxs)(u.c,{path:"/home",exact:!0,children:[i&&Object(O.jsx)(U,{}),!i&&Object(O.jsx)(u.b,{to:"/main"})]}),Object(O.jsx)(u.c,{path:"/main",exact:!0,children:Object(O.jsx)(ee,{onSignIn:function(){j(!0)}})}),Object(O.jsx)(u.c,{path:"*",children:Object(O.jsx)(u.b,{to:"/main"})})]})]})},ce=n(27),ae={items:[],userId:"",changed:!1},re=function(e,t){if("LOGGER"===t.type)return{items:e.items,userId:t.value,changed:e.changed};if("UPDATE"===t.type)return{items:t.value,userId:e.userId,changed:e.changed};if("ADD"===t.type){var n=e.items.findIndex((function(e){return e.id===t.Post.id}));if(e.items[n]){var c=Object(ce.a)(e.items);return c[n]=t.Post,{items:c,userId:e.userId,changed:e.changed}}return{items:[].concat(Object(ce.a)(e.items),[t.Post]),userId:e.userId,changed:!0}}return"DEL"===t.type?{items:e.items.filter((function(e){return e.id!==t.Id})),userId:e.userId,changed:!0}:ae},se=function(e){var t=Object(c.useReducer)(re,ae),n=Object(o.a)(t,2),a=n[0],r=n[1],s={userId:a.userId,items:a.items,changed:a.changed,add:function(e){r({type:"ADD",Post:e})},delete:function(e){r({type:"DEL",Id:e})},addUser:function(e){r({type:"LOGGER",value:e})},update:function(e){r({type:"UPDATE",value:e})}};return Object(O.jsx)(d.Provider,{value:s,children:e.children})};s.a.render(Object(O.jsx)(i.a,{basename:"/Project_replica",children:Object(O.jsx)(se,{children:Object(O.jsx)(ne,{})})}),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.c1901216.chunk.js.map