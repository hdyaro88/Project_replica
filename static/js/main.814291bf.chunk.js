(this.webpackJsonpapp_user=this.webpackJsonpapp_user||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={card:"PostItem_card__1ytqO",flex_container:"PostItem_flex_container__2u0w_",downbar:"PostItem_downbar__1vcJM",downbar_button:"PostItem_downbar_button__1oZbN"}},,function(e,t,n){e.exports={navbar:"Header_navbar__PIi9L",buttons:"Header_buttons__N2BKK",navbar_button:"Header_navbar_button__1VHSP",favbar:"Header_favbar__2ZAZm",Appname:"Header_Appname__EsSFr"}},function(e,t,n){e.exports={backdrop:"modal_backdrop__2GYJw",card:"modal_card__2pdRx",item:"modal_item__1-osQ",buttonItem:"modal_buttonItem__3R48l",Create_button:"modal_Create_button__2GGro"}},function(e,t,n){e.exports={card:"Home_card__222yl",item:"Home_item__2frsi",buttonItem:"Home_buttonItem__VEaJH",Create_button:"Home_Create_button__2sC_M"}},,function(e,t,n){e.exports={card:"Login_card__8QBb-",item:"Login_item__2mxWl",buttonItem:"Login_buttonItem__3LDhG",Login_button:"Login_Login_button__34Mns"}},function(e,t,n){e.exports={card:"SignUp_card__3bMf2",item:"SignUp_item__mVLLS",buttonItem:"SignUp_buttonItem__1sdP3",Login_button:"SignUp_Login_button__2mVrp"}},,,,,,,,,,,function(e,t,n){e.exports={flex_container:"MainPage_flex_container__1gM05",ActionButton:"MainPage_ActionButton__2Wim7",SignIn:"MainPage_SignIn__1Vhu0",SignUp:"MainPage_SignUp__1vHrc"}},,,function(e,t,n){},function(e,t,n){e.exports={card:"Card_card__1K5uX"}},function(e,t,n){e.exports={nopost:"Post_nopost__2m5Va"}},,,,,,function(e,t,n){},,,,function(e,t,n){},,,,,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(18),s=n.n(r),i=(n(36),n(3)),o=n(4),u=(n(40),n(9)),d=n.n(u),l=n(28),j=n.n(l),b=n(0),m=function(e){return Object(b.jsx)("button",{onClick:e.onClick,className:"".concat(e.className," ").concat(j.a.Button),children:e.children})},O=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(b.jsxs)("div",{className:d.a.navbar,children:[Object(b.jsx)("div",{className:d.a.favbar,children:Object(b.jsx)("h1",{className:d.a.Appname,children:"FaceBar"})}),Object(b.jsxs)("div",{className:d.a.buttons,children:[e.ShowSignUp&&Object(b.jsx)(m,{onClick:e.onClick,className:d.a.navbar_button,children:"SignUp"}),e.ShowSignIn&&Object(b.jsx)(m,{onClick:e.onClick,className:d.a.navbar_button,children:"SignIn"}),e.isLoggedIn&&Object(b.jsx)(m,{onClick:function(){e.onShowPost(),r(!a)},className:d.a.navbar_button,children:a?"Home":"Post"}),e.isLoggedIn&&Object(b.jsx)(m,{onClick:e.onLogout,className:d.a.navbar_button,children:"Logout"})]})]})},h=n(29),p=n.n(h),x=function(e){return Object(b.jsx)("div",{className:"".concat(p.a.card," ").concat(e.className),children:e.children})},f=n(11),g=n(21),_=n(6),v=n.n(_),S=n(12),I=function(e,t){return"sending"===t.type?{status:"pending",data:e.data,error:e.error}:"success"===t.type?{status:"completed",data:t.data,error:e.error}:"error"===t.type?{status:"completed",data:e.data,error:t.value}:void 0},y=function(e,t){var n=Object(c.useReducer)(I,{status:t?"pending":null,data:null,error:null}),a=Object(i.a)(n,2),r=a[0],s=a[1],o=Object(c.useCallback)(function(){var t=Object(S.a)(v.a.mark((function t(n){var c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"sending"}),t.prev=1,t.next=4,e(n);case 4:c=t.sent,s({type:"success",data:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s({type:"error",value:t.t0.message||"something went wrong"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(g.a)({sendRequest:o},r)},N="https://react-9e703-default-rtdb.firebaseio.com/",k=function(){var e=Object(S.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAZjoy8dPiBktGsrJ_4z45RCFrc-TxGnko"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Login Failed");case 5:return e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",{success:c.registered||!1,userId:c.localId});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(S.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/items/").concat(t.userId,".json"),{method:"PUT",body:JSON.stringify(t.items),headers:{"Content-Type":"application/json"}});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Send data Failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(S.a)(v.a.mark((function e(t){var n,c,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/items/").concat(t.userId,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not get items.");case 8:for(r in a=[],c)s=Object(g.a)({id:r},c[r]),a.push(s);return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=!0,P=function(e){var t=Object(o.c)((function(e){return e.userId})),n=localStorage.getItem("userId");n&&(t=n);var a=Object(o.b)(),r=y(C),s=r.sendRequest,i=r.status,u=r.data,d=Object(c.useRef)(),l=Object(c.useRef)(),j=Object(c.useRef)();Object(c.useEffect)((function(){L&&(s({userId:t}),L=!1),"completed"===i&&a({type:"UPDATE",payload:u})}),[i,u,s,t,a]);return Object(b.jsx)("div",{className:f.card,children:Object(b.jsx)(x,{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={id:Math.random(),name:d.current.value,age:l.current.value,relation:j.current.value};a({type:"ADD",payload:t}),d.current.value="",l.current.value="",j.current.value=""},children:[Object(b.jsxs)("div",{className:f.item,children:[Object(b.jsx)("label",{children:"Name"}),Object(b.jsx)("input",{ref:d,required:!0,type:"text"})]}),Object(b.jsxs)("div",{className:f.item,children:[Object(b.jsx)("label",{children:"Age"}),Object(b.jsx)("input",{ref:l,required:!0,type:"number"})]}),Object(b.jsxs)("div",{className:f.item,children:[Object(b.jsx)("label",{children:"Relation"}),Object(b.jsx)("input",{ref:j,required:!0,type:"text"})]}),Object(b.jsx)("div",{className:f.buttonItem,children:Object(b.jsx)(m,{className:f.Create_button,children:"Create Post"})})]})})})},R=n(10),A=n.n(R),E=function(e){return Object(b.jsx)("div",{onClick:e.onClick,className:A.a.backdrop})},U=function(e){var t=Object(o.b)(),n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)(""),d=Object(i.a)(u,2),l=d[0],j=d[1],O=Object(c.useState)(""),h=Object(i.a)(O,2),p=h[0],f=h[1];return Object(b.jsx)("div",{className:A.a.card,children:Object(b.jsx)(x,{children:Object(b.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c={id:e.id,name:r,age:l,relation:p};t({type:"ADD",payload:c}),e.onClick()},children:[Object(b.jsxs)("div",{className:A.a.item,children:[Object(b.jsx)("label",{children:"Name"}),Object(b.jsx)("input",{value:r,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&s(t)}})]}),Object(b.jsxs)("div",{className:A.a.item,children:[Object(b.jsx)("label",{children:"Age"}),Object(b.jsx)("input",{value:l,type:"number",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&j(+t)}})]}),Object(b.jsxs)("div",{className:A.a.item,children:[Object(b.jsx)("label",{children:"Relation"}),Object(b.jsx)("input",{value:p,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&f(t)}})]}),Object(b.jsx)("div",{className:A.a.buttonItem,children:Object(b.jsx)(m,{className:A.a.Create_button,children:"Submit"})})]})})})},D=function(e){return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(E,{onClick:e.onClose}),Object(b.jsx)(U,{id:e.id,onClick:e.onClose})]})},T=n(7),H=n.n(T),q=function(e){var t=Object(o.b)(),n=Object(c.useState)(!1),r=Object(i.a)(n,2),s=r[0],u=r[1],d=Object(c.useState)(!1),l=Object(i.a)(d,2),j=l[0],O=l[1];return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("div",{onClick:function(){u(!s)},className:H.a.card,children:Object(b.jsx)(x,{children:Object(b.jsxs)("div",{className:H.a.flex_container,children:[Object(b.jsx)("div",{children:Object(b.jsx)("label",{children:e.name})}),Object(b.jsx)("div",{children:Object(b.jsx)("label",{children:e.age})}),Object(b.jsx)("div",{children:Object(b.jsx)("label",{children:e.relation})})]})})}),s&&Object(b.jsx)("div",{className:H.a.card,children:Object(b.jsxs)(x,{className:H.a.downbar,children:[Object(b.jsx)(m,{onClick:function(){O(!0)},className:H.a.downbar_button,children:"Edit"}),j&&Object(b.jsx)(D,{onClose:function(){O(!1)},id:e.id}),Object(b.jsx)(m,{onClick:function(){t({type:"DEL",payload:e.id})},className:H.a.downbar_button,children:"Delete"})]})})]})},F=function(){return Object(b.jsx)("div",{className:H.a.card,children:Object(b.jsx)(x,{children:Object(b.jsxs)("div",{className:H.a.flex_container,children:[Object(b.jsx)("div",{children:Object(b.jsx)("label",{children:Object(b.jsx)("b",{children:"Name"})})}),Object(b.jsx)("div",{children:Object(b.jsx)("label",{children:Object(b.jsx)("b",{children:"Age"})})}),Object(b.jsx)("div",{children:Object(b.jsx)("label",{children:Object(b.jsx)("b",{children:"Relation"})})})]})})})},G=n(30),B=n.n(G),J=function(e){var t=Object(o.c)((function(e){return e.items}));return document.body.style.marginTop="6rem",Object(b.jsxs)("div",{children:[Object(b.jsx)(F,{}),0===t.length&&Object(b.jsx)("h1",{className:B.a.nopost,children:"No Posts Yet"}),t.map((function(e){return Object(b.jsx)(q,{id:e.id,name:e.name,age:e.age,relation:e.relation},e.id)}))]})},M=n(47),V=n(13),W=n.n(V),Z=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(M.a)(),s=Object(o.b)(),i=y(k),u=i.sendRequest,d=i.status,l=i.data,j=i.error,h=Object(b.jsx)(m,{className:W.a.Login_button,children:"Login"});"pending"===d&&(h=Object(b.jsx)("p",{children:"Loading.."}));var p=e.onLoggin;Object(c.useEffect)((function(){"completed"!==d||j||(p(),s({type:"LOGGER",payload:l.userId.toString()}),localStorage.setItem("userId",l.userId),localStorage.setItem("isLoggedIn","1"))}),[d,r,l,j,s,p]),j&&window.alert(j);return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(O,{onClick:e.onSignUp,ShowSignIn:!1,ShowSignUp:!0}),Object(b.jsx)("div",{className:W.a.card,children:Object(b.jsx)(x,{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=t.current.value,a=n.current.value;u({email:c,password:a,returnSecureToken:!0})},children:[Object(b.jsxs)("div",{className:W.a.item,children:[Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{ref:t,type:"email",required:"@"})]}),Object(b.jsxs)("div",{className:W.a.item,children:[Object(b.jsx)("label",{children:"PassWord"}),Object(b.jsx)("input",{ref:n,type:"password",required:!0})]}),Object(b.jsx)("div",{className:W.a.buttonItem,children:h})]})})})]})},z=n(25),K=n.n(z),Q=n(14),Y=n.n(Q),X=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(!1),s=Object(i.a)(r,2),o=s[0],u=s[1];return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(O,{onClick:e.onSignIn,ShowSignIn:!0,ShowSignUp:!1}),Object(b.jsx)("div",{className:Y.a.card,children:Object(b.jsx)(x,{children:Object(b.jsxs)("form",{onSubmit:function(c){var a=t.current.value,r=n.current.value;c.preventDefault(),u(!0);fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAZjoy8dPiBktGsrJ_4z45RCFrc-TxGnko",{method:"POST",body:JSON.stringify({email:a,password:r,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){if(u(!1),!t.ok)return t.json().then((function(e){var t="Authentication Error";e&&e.error&&e.error.message&&(t=e.error.message),alert(t)}));e.onSubmit()}))},children:[Object(b.jsxs)("div",{className:Y.a.item,children:[Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"email",ref:t,required:!0})]}),Object(b.jsxs)("div",{className:Y.a.item,children:[Object(b.jsx)("label",{children:"PassWord"}),Object(b.jsx)("input",{type:"password",ref:n,required:!0})]}),Object(b.jsxs)("div",{className:Y.a.buttonItem,children:[o&&Object(b.jsx)("p",{children:"Please Wait ..."}),!o&&Object(b.jsx)(m,{className:Y.a.Login_button,children:"Register"})]})]})})})]})},$=function(e){var t=Object(M.a)(),n=Object(c.useState)(!1),r=Object(i.a)(n,2),s=r[0],o=r[1],u=Object(c.useState)(!0),d=Object(i.a)(u,2),l=d[0],j=d[1],m=function(){o(!s),j(!1)};return document.body.style.marginTop="6rem",Object(b.jsx)(a.a.Fragment,{children:Object(b.jsx)("div",{className:K.a.flex_container,children:Object(b.jsxs)("div",{className:K.a.ActionButton,children:[s&&Object(b.jsx)(X,{onSignIn:function(){j(!0),o(!1),t.replace("/")},onSubmit:function(){j(!0),o(!1)},onSignUp:m}),l&&Object(b.jsx)(Z,{onSignUp:m,onLoggin:e.onSignIn})]})})})},ee=!0;var te=function(){var e=Object(o.c)((function(e){return e.items})),t=Object(o.c)((function(e){return e.userId})),n=Object(o.c)((function(e){return e.changed})),a=y(w).sendRequest,r="1"===localStorage.getItem("isLoggedIn"),s=Object(c.useState)(r),u=Object(i.a)(s,2),d=u[0],l=u[1],j=Object(c.useState)(!1),m=Object(i.a)(j,2),h=m[0],p=m[1],x=Object(c.useState)(!r),f=Object(i.a)(x,2),g=f[0],_=f[1];return Object(c.useEffect)((function(){ee?ee=!1:d&&n&&a({items:e,userId:t})}),[d,e,a,n,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{ShowSignIn:!1,ShowSignUp:!1,onShowPost:function(){p(!h)},onLogout:function(){localStorage.setItem("isLoggedIn","0"),localStorage.clear(),l(!1),p(!1),_(!0)},isLoggedIn:d}),d&&h&&Object(b.jsx)(J,{}),d&&!h&&Object(b.jsx)(P,{}),g&&Object(b.jsx)($,{onSignUp:function(){_(!g)},onSignIn:function(){l(!0),p(!1),_(!1)}})]})},ne=n(26),ce=n(48),ae=localStorage.getItem("userId"),re={items:[],userId:ae||"",changed:!1},se=Object(ce.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;if("LOGGER"===t.type)return{items:e.items,userId:t.payload,changed:e.changed};if("UPDATE"===t.type)return{items:t.payload,userId:e.userId,changed:e.changed};if("ADD"===t.type){var n=e.items.findIndex((function(e){return e.id===t.payload.id})),c=e.items[n];if(c){var a=Object(ne.a)(e.items);return a[n]=t.payload,{items:a,userId:e.userId,changed:!0}}return{items:[].concat(Object(ne.a)(e.items),[t.payload]),userId:e.userId,changed:!0}}if("DEL"===t.type){var r=e.items.filter((function(e){return e.id!==t.payload}));return{items:r,userId:e.userId,changed:!0}}return re}));s.a.render(Object(b.jsx)(o.a,{store:se,children:Object(b.jsx)(te,{})}),document.getElementById("root"))}],[[45,1,2]]]);
//# sourceMappingURL=main.814291bf.chunk.js.map