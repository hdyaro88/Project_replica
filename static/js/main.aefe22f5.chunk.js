(this.webpackJsonpapp_user=this.webpackJsonpapp_user||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports={card:"PostItem_card__1ytqO",flex_container:"PostItem_flex_container__2u0w_",downbar:"PostItem_downbar__1vcJM",downbar_button:"PostItem_downbar_button__1oZbN"}},function(e,t,n){e.exports={navbar:"Header_navbar__PIi9L",buttons:"Header_buttons__N2BKK",navbar_button:"Header_navbar_button__1VHSP",favbar:"Header_favbar__2ZAZm",Appname:"Header_Appname__EsSFr"}},function(e,t,n){e.exports={backdrop:"modal_backdrop__2GYJw",card:"modal_card__2pdRx",item:"modal_item__1-osQ",buttonItem:"modal_buttonItem__3R48l",Create_button:"modal_Create_button__2GGro"}},function(e,t,n){e.exports={card:"Home_card__222yl",item:"Home_item__2frsi",buttonItem:"Home_buttonItem__VEaJH",Create_button:"Home_Create_button__2sC_M"}},,,function(e,t,n){e.exports={card:"Login_card__8QBb-",item:"Login_item__2mxWl",buttonItem:"Login_buttonItem__3LDhG",Login_button:"Login_Login_button__34Mns"}},function(e,t,n){e.exports={card:"SignUp_card__3bMf2",item:"SignUp_item__mVLLS",buttonItem:"SignUp_buttonItem__1sdP3",Login_button:"SignUp_Login_button__2mVrp"}},,,,,,,,,,,,function(e,t,n){e.exports={flex_container:"MainPage_flex_container__1gM05",ActionButton:"MainPage_ActionButton__2Wim7",SignIn:"MainPage_SignIn__1Vhu0",SignUp:"MainPage_SignUp__1vHrc"}},,function(e,t,n){},function(e,t,n){e.exports={card:"Card_card__1K5uX"}},function(e,t,n){e.exports={nopost:"Post_nopost__2m5Va"}},,,,,function(e,t,n){},,,,function(e,t,n){},,,,,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(22),s=n.n(r),i=n(19),o=(n(39),n(4)),u=n(5),j=n(3),d=(n(43),n(12)),l=n.n(d),b=n(32),m=n.n(b),O=n(0),h=function(e){return Object(O.jsx)("button",{onClick:e.onClick,className:"".concat(e.className," ").concat(m.a.Button),children:e.children})},x=function(e){var t=Object(j.h)(),n=Object(j.g)(),a=Object(c.useState)(!1),r=Object(o.a)(a,2),s=r[0],i=r[1];return Object(O.jsxs)("div",{className:l.a.navbar,children:[Object(O.jsx)("div",{className:l.a.favbar,children:Object(O.jsx)("h1",{className:l.a.Appname,children:"FaceBar"})}),Object(O.jsxs)("div",{className:l.a.buttons,children:[e.ShowSignUp&&Object(O.jsx)(h,{onClick:e.onClick,className:l.a.navbar_button,children:"SignUp"}),e.ShowSignIn&&Object(O.jsx)(h,{onClick:e.onClick,className:l.a.navbar_button,children:"SignIn"}),e.isLoggedIn&&Object(O.jsx)(h,{onClick:function(){s?(n.push("/home"),i(!1)):(n.push("".concat(t.pathname,"/post")),i(!0))},className:l.a.navbar_button,children:s?"Home":"Post"}),e.isLoggedIn&&Object(O.jsx)(h,{onClick:e.onLogout,className:l.a.navbar_button,children:"Logout"})]})]})},p=n(33),f=n.n(p),_=function(e){return Object(O.jsx)("div",{className:"".concat(f.a.card," ").concat(e.className),children:e.children})},g=n(14),v=n(25),S=n(10),y=n.n(S),I=n(16),N=function(e,t){return"sending"===t.type?{status:"pending",data:e.data,error:e.error}:"success"===t.type?{status:"completed",data:t.data,error:e.error}:"error"===t.type?{status:"completed",data:e.data,error:t.value}:void 0},k=function(e,t){var n=Object(c.useReducer)(N,{status:t?"pending":null,data:null,error:null}),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useCallback)(function(){var t=Object(I.a)(y.a.mark((function t(n){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"sending"}),t.prev=1,t.next=4,e(n);case 4:c=t.sent,s({type:"success",data:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s({type:"error",value:t.t0.message||"something went wrong"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(v.a)({sendRequest:i},r)},w="https://react-9e703-default-rtdb.firebaseio.com/",C=function(){var e=Object(I.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAZjoy8dPiBktGsrJ_4z45RCFrc-TxGnko"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Login Failed");case 5:return e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",{success:c.registered||!1,userId:c.localId});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(I.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/items/").concat(t.userId,".json"),{method:"PUT",body:JSON.stringify(t.items),headers:{"Content-Type":"application/json"}});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Send data Failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(I.a)(y.a.mark((function e(t){var n,c,a,r,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/items/").concat(t.userId,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not get items.");case 8:for(r in a=[],c)s=Object(v.a)({id:r},c[r]),a.push(s);return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=!0,A=function(e){var t=Object(u.c)((function(e){return e.userId})),n=Object(u.b)(),a=k(P),r=a.sendRequest,s=a.status,i=a.data,o=Object(c.useRef)(),j=Object(c.useRef)(),d=Object(c.useRef)();Object(c.useEffect)((function(){R&&(r({userId:t}),console.log("request send"),R=!1),"completed"===s&&(console.log("getting list"),n({type:"UPDATE",payload:i}))}),[s,i,r,t,n]);return Object(O.jsx)("div",{className:g.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={id:Math.random(),name:o.current.value,age:j.current.value,relation:d.current.value};n({type:"ADD",payload:t}),o.current.value="",j.current.value="",d.current.value=""},children:[Object(O.jsxs)("div",{className:g.item,children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{ref:o,required:!0,type:"text"})]}),Object(O.jsxs)("div",{className:g.item,children:[Object(O.jsx)("label",{children:"Age"}),Object(O.jsx)("input",{ref:j,required:!0,type:"number"})]}),Object(O.jsxs)("div",{className:g.item,children:[Object(O.jsx)("label",{children:"Relation"}),Object(O.jsx)("input",{ref:d,required:!0,type:"text"})]}),Object(O.jsx)("div",{className:g.buttonItem,children:Object(O.jsx)(h,{className:g.Create_button,children:"Create Post"})})]})})})},E=n(13),U=n.n(E),D=function(e){return Object(O.jsx)("div",{onClick:e.onClick,className:U.a.backdrop})},T=function(e){var t=Object(u.b)(),n=Object(c.useState)(""),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),j=Object(o.a)(i,2),d=j[0],l=j[1],b=Object(c.useState)(""),m=Object(o.a)(b,2),x=m[0],p=m[1];return Object(O.jsx)("div",{className:U.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c={id:e.id,name:r,age:d,relation:x};t({type:"ADD",payload:c}),e.onClick()},children:[Object(O.jsxs)("div",{className:U.a.item,children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{value:r,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&s(t)}})]}),Object(O.jsxs)("div",{className:U.a.item,children:[Object(O.jsx)("label",{children:"Age"}),Object(O.jsx)("input",{value:d,type:"number",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&l(+t)}})]}),Object(O.jsxs)("div",{className:U.a.item,children:[Object(O.jsx)("label",{children:"Relation"}),Object(O.jsx)("input",{value:x,type:"text",onChange:function(e){var t=e.target.value;0!==t.trim().lenth&&p(t)}})]}),Object(O.jsx)("div",{className:U.a.buttonItem,children:Object(O.jsx)(h,{className:U.a.Create_button,children:"Submit"})})]})})})},q=function(e){return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(D,{onClick:e.onClose}),Object(O.jsx)(T,{id:e.id,onClick:e.onClose})]})},H=n(11),F=n.n(H),G=function(e){var t=Object(u.b)(),n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],j=Object(c.useState)(!1),d=Object(o.a)(j,2),l=d[0],b=d[1];return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)("div",{onClick:function(){i(!s)},className:F.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("div",{className:F.a.flex_container,children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.name})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.age})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:e.relation})})]})})}),s&&Object(O.jsx)("div",{className:F.a.card,children:Object(O.jsxs)(_,{className:F.a.downbar,children:[Object(O.jsx)(h,{onClick:function(){b(!0)},className:F.a.downbar_button,children:"Edit"}),l&&Object(O.jsx)(q,{onClose:function(){b(!1)},id:e.id}),Object(O.jsx)(h,{onClick:function(){t({type:"DEL",payload:e.id})},className:F.a.downbar_button,children:"Delete"})]})})]})},B=function(){return Object(O.jsx)("div",{className:F.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("div",{className:F.a.flex_container,children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Name"})})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Age"})})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Relation"})})})]})})})},J=n(34),M=n.n(J),V=function(e){var t=Object(u.c)((function(e){return e.items}));return document.body.style.marginTop="6rem",Object(O.jsxs)("div",{children:[Object(O.jsx)(B,{}),0===t.length&&Object(O.jsx)("h1",{className:M.a.nopost,children:"No Posts Yet"}),t.map((function(e){return Object(O.jsx)(G,{id:e.id,name:e.name,age:e.age,relation:e.relation},e.id)}))]})},W=n(17),Z=n.n(W),z=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(j.g)(),s=Object(u.b)(),i=k(C),o=i.sendRequest,d=i.status,l=i.data,b=i.error,m=Object(O.jsx)(h,{className:Z.a.Login_button,children:"Login"});"pending"===d&&(m=Object(O.jsx)("p",{children:"Loading.."}));var p=e.onLoggin;Object(c.useEffect)((function(){"completed"!==d||b||(p(),s({type:"LOGGER",payload:l.userId.toString()}),r.replace("/home"))}),[d,r,l,b,s,p]),b&&window.alert(b);return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(x,{onClick:e.onSignUp,ShowSignIn:!1,ShowSignUp:!0}),Object(O.jsx)("div",{className:Z.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=t.current.value,a=n.current.value;o({email:c,password:a,returnSecureToken:!0})},children:[Object(O.jsxs)("div",{className:Z.a.item,children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{ref:t,type:"email",required:"@"})]}),Object(O.jsxs)("div",{className:Z.a.item,children:[Object(O.jsx)("label",{children:"PassWord"}),Object(O.jsx)("input",{ref:n,type:"password",required:!0})]}),Object(O.jsx)("div",{className:Z.a.buttonItem,children:m})]})})})]})},K=n(30),Q=n.n(K),Y=n(18),X=n.n(Y),$=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1];return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(x,{onClick:e.onSignIn,ShowSignIn:!0,ShowSignUp:!1}),Object(O.jsx)("div",{className:X.a.card,children:Object(O.jsx)(_,{children:Object(O.jsxs)("form",{onSubmit:function(c){var a=t.current.value,r=n.current.value;c.preventDefault(),u(!0);fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAZjoy8dPiBktGsrJ_4z45RCFrc-TxGnko",{method:"POST",body:JSON.stringify({email:a,password:r,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){if(u(!1),!t.ok)return t.json().then((function(e){var t="Authentication Error";e&&e.error&&e.error.message&&(t=e.error.message),alert(t)}));e.onSubmit()}))},children:[Object(O.jsxs)("div",{className:X.a.item,children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",ref:t,required:!0})]}),Object(O.jsxs)("div",{className:X.a.item,children:[Object(O.jsx)("label",{children:"PassWord"}),Object(O.jsx)("input",{type:"password",ref:n,required:!0})]}),Object(O.jsxs)("div",{className:X.a.buttonItem,children:[i&&Object(O.jsx)("p",{children:"Please Wait ..."}),!i&&Object(O.jsx)(h,{className:X.a.Login_button,children:"Register"})]})]})})})]})},ee=function(e){var t=Object(j.g)(),n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],u=Object(c.useState)(!0),d=Object(o.a)(u,2),l=d[0],b=d[1],m=function(){i(!s),b(!1)};return document.body.style.marginTop="6rem",Object(O.jsx)(a.a.Fragment,{children:Object(O.jsx)("div",{className:Q.a.flex_container,children:Object(O.jsxs)("div",{className:Q.a.ActionButton,children:[s&&Object(O.jsx)($,{onSignIn:function(){b(!0),i(!1),t.replace("/")},onSubmit:function(){b(!0),i(!1)},onSignUp:m}),l&&Object(O.jsx)(z,{onSignUp:m,onLoggin:e.onSignIn})]})})})},te=!0;var ne=function(){var e=Object(u.c)((function(e){return e.items})),t=Object(u.c)((function(e){return e.userId})),n=Object(u.c)((function(e){return e.changed})),a=k(L).sendRequest,r="1"===localStorage.getItem("isLoggedIn"),s=Object(c.useState)(r),i=Object(o.a)(s,2),d=i[0],l=i[1],b=Object(c.useState)(!1),m=Object(o.a)(b,2),h=m[0],p=m[1];return Object(c.useEffect)((function(){te?te=!1:d&&n&&a({items:e,userId:t})}),[d,e,a,n,t]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{ShowSignIn:!1,ShowSignUp:!1,onShowPost:h,onLogout:function(){localStorage.setItem("isLoggedIn","0"),l(!1),p(!1)},isLoggedIn:d}),Object(O.jsxs)(j.d,{children:[Object(O.jsxs)(j.b,{path:"/",exact:!0,children:[d&&Object(O.jsx)(j.a,{to:"/home"}),!d&&Object(O.jsx)(j.a,{to:"/main"})]}),Object(O.jsxs)(j.b,{path:"/home/post",exact:!0,children:[d&&Object(O.jsx)(V,{}),!d&&Object(O.jsx)(j.a,{to:"/main"})]}),Object(O.jsxs)(j.b,{path:"/home",exact:!0,children:[d&&Object(O.jsx)(A,{}),!d&&Object(O.jsx)(j.a,{to:"/main"})]}),Object(O.jsx)(j.b,{path:"/main",exact:!0,children:Object(O.jsx)(ee,{onSignIn:function(){l(!0)}})}),Object(O.jsx)(j.b,{path:"*",children:Object(O.jsx)(j.a,{to:"/main"})})]})]})},ce=n(31),ae=n(50),re={items:[],userId:"",changed:!1},se=Object(ae.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;if("LOGGER"===t.type)return{items:e.items,userId:t.payload,changed:e.changed};if("UPDATE"===t.type)return{items:t.payload,userId:e.userId,changed:e.changed};if("ADD"===t.type){var n=e.items.findIndex((function(e){return e.id===t.payload.id})),c=e.items[n];if(c){var a=Object(ce.a)(e.items);return a[n]=t.payload,{items:a,userId:e.userId,changed:!0}}return{items:[].concat(Object(ce.a)(e.items),[t.payload]),userId:e.userId,changed:!0}}if("DEL"===t.type){var r=e.items.filter((function(e){return e.id!==t.payload}));return{items:r,userId:e.userId,changed:!0}}return re}));s.a.render(Object(O.jsx)(i.a,{basename:"/Project_replica",children:Object(O.jsx)(u.a,{store:se,children:Object(O.jsx)(ne,{})})}),document.getElementById("root"))}],[[48,1,2]]]);
//# sourceMappingURL=main.aefe22f5.chunk.js.map